<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PIXI Screen Shot</title>

    <link rel="stylesheet" href="/common/css/common.css">
</head>

<body>
    <div class="pixi-navigation">
        <div class="pixi-navigation__button-wrap">
            <button type="button" class="pixi-navigation__button">
                <div class="pixi-navigation__bar-wrap">
                    <div class="pixi-navigation__bar bar1"></div>
                    <div class="pixi-navigation__bar bar2"></div>
                    <div class="pixi-navigation__bar bar3"></div>
                    <div class="pixi-navigation__bar bar4"></div>
                </div>
            </button>
        </div>
        <div class="pixi-navigation__content">
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Basic</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="container">
                        <a href="/example/basic/container">Container</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="particle-container">
                        <a href="/example/basic/particle-container">Particle Container</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="tinting">
                        <a href="/example/basic/tinting">Tinting</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="simple-plane">
                        <a href="/example/basic/simple-plane">Simple Plane</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Advanced</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="slots">
                        <a href="/example/advanced/slots">Slots</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="scratchcard">
                        <a href="/example/advanced/scratchcard">Scratch Card</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="mouse-trail">
                        <a href="/example/advanced/mouse-trail">Mouse Trail</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="starwarp">
                        <a href="/example/advanced/starwarp">Star Warp</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="screenshot">
                        <a href="/example/advanced/screenshot">Screen Shot</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Sprite</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="sprite-basic">
                        <a href="/example/sprite/sprite-basic">Basic</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="sprite-texture-swap">
                        <a href="/example/sprite/sprite-texture-swap">Texture Swap</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="sprite-animated">
                        <a href="/example/sprite/sprite-animated">Animated Sprite - Explosion</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="sprite-tiling">
                        <a href="/example/sprite/sprite-tiling">Tiling Sprite</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="sprite-video">
                        <a href="/example/sprite/sprite-video">Video</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Text</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="text">
                        <a href="/example/text/text">Text</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Graphics</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="graphics-simple">
                        <a href="/example/graphics/graphics-simple">Simple</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="graphics-advanced">
                        <a href="/example/graphics/graphics-advanced">Advanced</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="graphics-dynamic">
                        <a href="/example/graphics/graphics-dynamic">Dynamic</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Interaction</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="interaction-click">
                        <a href="/example/interaction/interaction-click">Click</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="interaction-interactivity">
                        <a href="/example/interaction/interaction-interactivity">Interactivity</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="interaction-dragging">
                        <a href="/example/interaction/interaction-dragging">Dragging</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="interaction-custom-mouse-icon">
                        <a href="/example/interaction/interaction-custom-mouse-icon">Custom Mouse Icon</a>
                    </li>
                    <li class="pixi-navigation__content-list--item" data-content="interaction-custom-hitarea">
                        <a href="/example/interaction/interaction-custom-hitarea">Custom Hitarea</a>
                    </li>
                </ul>
            </div>
            <div class="pixi-navigation__content-wrap">
                <div class="pixi-navigation__content-title">Documents</div>
                <ul class="pixi-navigation__content-list">
                    <li class="pixi-navigation__content-list--item" data-content="total-document">
                        <a href="/example/document/total-document">Documents</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="pixi-navigation__logo">HJ</div>
    </div>
    <div class="pixi-navigation__dim"></div>
    <section class="pixi pixi-screenshot">
        <div class="pixi-controller">
          <div class="pixi-controller__title">
            PIXI Screen Shot
          </div>
          <hr>
          <div class="pixi-controller__container">
            <div class="pixi-controller__canvas">
              <canvas id="screenShot" width="800" height="800"></canvas>
            </div>
          </div>
          <div class="pixi-title">Example Code</div>
          <pre class="pixi-controller__codeblock"><code>
;(function() {
    'use strict';

    window.pixi = window.pixi || {};
    window.pixi.component = window.pixi.component || {};

    pixi.component.screenShot = (function() {
        var obj = {};

        var init = function() {
            obj.section = document.querySelector('.pixi-screenshot');

            if (!!obj.section) {
                setElements();
                setContainer();
                setSprite();
                setTicker();
                bindEvents();
            }
        };

        var setElements = function() {
            obj.app = new PIXI.Application({
                view: document.getElementById('screenShot')
            });

            obj.wait = false;
            obj.waiting = false;

            obj.texture = PIXI.Texture.from('/content/images/bunny.png');

            obj.style = new PIXI.TextStyle({
                fontSize: 36,
                fill: '#FFFFFF'
            });
            obj.screenshotText = new PIXI.Text('Click To Take Screenshot', obj.style);
            obj.screenshotText.x = Math.round((obj.app.screen.width - obj.screenshotText.width) / 2)
            obj.screenshotText.y = Math.round(obj.screenshotText.height / 2);
        };

        var setContainer = function() {
            obj.bunnyContainer = new PIXI.Container();
            obj.bunnyContainer.pivot.set(0.5, 0.5);
        };

        var setSprite = function() {
            for (var i = 0 ; i < 25; i++) {
                var bunny = new PIXI.Sprite(obj.texture);
                bunny.anchor.set(0.5);
                bunny.x = (i % 5) * 40;
                bunny.y = Math.floor(i / 5) * 40;
                obj.bunnyContainer.addChild(bunny);
            }

            obj.bunnyContainer.x = 400;
            obj.bunnyContainer.y = 300;
            obj.bunnyContainer.pivot.x = obj.bunnyContainer.width / 2;
            obj.bunnyContainer.pivot.y = obj.bunnyContainer.height / 2;
            obj.app.stage.addChild(obj.screenshotText, obj.bunnyContainer);
        };

        var setTicker = function() {
            obj.app.ticker.add(function(delta) {
                if (obj.wait) {
                    obj.waiting = true;
                    obj.wait = false;
                    setTimeout(function() {
                        obj.waiting = false;
                    }, 500);
                }
                if (!obj.waiting) {
                    obj.bunnyContainer.rotation += 0.02 * delta;
                }
            });
        };

        var bindEvents = function() {
            obj.app.renderer.plugins.interaction.on('pointerdown', takeScreenShot);
        };

        var takeScreenShot = function() {
            obj.wait = true;
            obj.app.renderer.extract.canvas(obj.app.stage).toBlob(function(blob) {
                var a = document.createElement('a');
                document.body.append(a);
                a.download = 'screenshot';
                a.href = URL.createObjectURL(blob);
                a.click();
                a.remove();
            }, 'image/png');
        };

        return {
            init: init
        }
    })();

    pixi.component.screenShot.init();
})();
              </code></pre>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-display-object">
          <div class="pixi-accordion">
            <a id="pixi-display-object" href="/example/basic/container#pixi-display-object" class="pixi-accordion__title has-content">
              PIXI.DisplayObject
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-application">
          <div class="pixi-accordion">
            <a id="pixi-application" href="/example/basic/container#pixi-application" class="pixi-accordion__title">
              PIXI.Application
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-container">
          <div class="pixi-accordion">
            <a id="pixi-container" href="/example/basic/container#pixi-container" class="pixi-accordion__title">
              PIXI.Container
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-texture">
          <div class="pixi-accordion">
            <a id="pixi-texture" href="/example/basic/container#pixi-texture" class="pixi-accordion__title">
              PIXI.Texture
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-spite">
          <div class="pixi-accordion">
            <a id="pixi-sprite" href="/example/basic/container#pixi-sprite" class="pixi-accordion__title">
              PIXI.Sprite
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-text">
          <div class="pixi-accordion">
            <a id="pixi-rectangle" href="/example/text/text#pixi-text" class="pixi-accordion__title">
              PIXI.Text
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
        <div class="pixi-wrap pixi-link-text-style">
          <div class="pixi-accordion">
            <a id="pixi-rectangle" href="/example/text/text#pixi-text-style" class="pixi-accordion__title">
              PIXI.TextStyle
              <span class="pixi-accordion__title-window">
                <svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
                  <path d="M81.436 14.564v54.285h-8V28.221L18.22 83.436l-5.656-5.656L67.78 22.563l-40.629.001v-8z"></path>
                </svg>
              </span>
            </a>
          </div>
          <hr>
        </div>
      </section>
    <script src="/common/js/pixi.js"></script>
    <script src="/common/js/pixi-spine.js"></script>
    <script src="/common/js/common.js"></script>
</body>

</html>